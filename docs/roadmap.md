# 習慣管理＋ダイアリーアプリ - 実装ロードマップ

## 📋 アプリコンセプト
日々の習慣管理とダイアリー機能を統合した、温かみのあるデザインのライフログアプリ。
カレンダーを中心とした直感的なUIで、タスク管理と日記記録を一元化し、自分の生活リズムを整えることを目的とする。

### 主な機能
- **習慣管理**: 毎日のやること（例：水を飲む、ジムに行く、薬を飲む）をタスクとして登録・チェック
- **ダイアリー**: 日常の出来事や感想をカテゴリー別に記録
- **統合ビュー**: カレンダーからその日のタスクと日記を同時に確認

### アプリ構成（4画面）
1. **メイン画面（main）**: カレンダー + 選択日のタスク一覧・進捗表示
2. **タスク作成画面（create）**: 習慣名・繰り返し設定・リマインド時間の入力
3. **ダイアリー一覧画面（diary）**: 日記エントリーの一覧・フィルター機能
4. **ダイアリー作成画面（diaryCreate）**: 日記の作成・カテゴリー管理

### デザインシステム
- **カラーパレット**: 温かみのあるベージュ/黒/ダークオリーブ/セージグリーンの統一感
- **レイアウト**: ドラッグリサイズ可能なサイドバー + メインコンテンツの2カラム
- **コンポーネント**: 角丸カードベースデザイン、微細なグラデーション効果

---

## 🗺️ 実装ロードマップ

### ✅ 現在実装済み（85%）
- ✅ タスクの追加（繰り返し/単発）
- ✅ 日付選択とカレンダー表示
- ✅ タスクの完了/未完了管理
- ✅ タスクの編集・削除・アーカイブ
- ✅ LocalStorage 永続化
- ✅ 基本的なUI（カレンダー、タスクリスト、フォーム）

### ❌ 未実装（15%）
- ❌ ダイアリー機能（完全に未実装）
- ❌ 新デザインシステムの適用
- ❌ 4画面間の遷移システム
- ❌ ドラッグリサイズ機能

---

### **フェーズ1: デザインシステム基盤構築** 🎨
**期間**: 1-2週間  
**目標**: 新しいデザインシステムの実装

#### 1.1 カラーパレット・レイアウト改修
- [ ] CSS変数で新カラーパレットを定義
  - ベースカラー: `#f7f6f4` (温かみのあるベージュ)
  - プライマリカラー: `#1a1a1a` (黒)
  - セカンダリカラー: `#6b7c5a` (ダークオリーブグリーン)
  - アクセントカラー: `#8b9a7a` (セージグリーン)
- [ ] 2カラムレイアウトの実装（サイドバー200px-400px）
- [ ] ドラッグリサイズ機能の実装
- [ ] レスポンシブ対応（モバイル時オーバーレイ）

#### 1.2 基本コンポーネントの再デザイン
- [ ] カードベースデザインの適用（rounded-xl）
- [ ] ボタン・入力フィールドの新スタイル
- [ ] 背景・ヘッダーのグラデーション効果
- [ ] ホバーエフェクト（shadow-xl、border色変更）
- [ ] 300ms アニメーション・トランジション

---

### **フェーズ2: ダイアリー機能実装** 📝
**期間**: 2-3週間  
**目標**: ダイアリー機能の完全実装

#### 2.1 データモデル拡張
- [ ] `DiaryEntry` 型の定義
  ```typescript
  interface DiaryEntry {
    id: string;
    date: DateKey;
    category: string;
    content: string;
    createdAt: number;
  }
  ```
- [ ] `DiaryCategory` 型の定義（日常、仕事、健康、趣味、人間関係）
- [ ] `Store` にダイアリー関連状態を追加
- [ ] LocalStorage保存形式の更新・マイグレーション

#### 2.2 ダイアリー一覧画面（diary）
- [ ] 日付フィルター機能（年/月/日選択）
- [ ] カテゴリーフィルター機能（プルダウン + "すべてのカテゴリー"）
- [ ] フィルタークリア機能
- [ ] エントリー一覧表示（カード形式、カテゴリーバッジ付き）
- [ ] 新規作成ボタン（ダイアリー作成画面への遷移）
- [ ] ページネーション（必要に応じて）

#### 2.3 ダイアリー作成画面（diaryCreate）
- [ ] 日付選択フィールド（date input、デフォルト今日）
- [ ] カテゴリー選択プルダウン
- [ ] 新規カテゴリー追加機能
- [ ] テキストエリア（8行、プレースホルダー付き）
- [ ] 保存・キャンセル機能
- [ ] バリデーション・エラーハンドリング

---

### **フェーズ3: 画面遷移・ナビゲーション** 🔄
**期間**: 1週間  
**目標**: 4画面間のスムーズな遷移

#### 3.1 ルーティング実装
- [ ] アプリケーション状態に `currentView` を追加
  ```typescript
  type AppView = 'main' | 'create' | 'diary' | 'diaryCreate';
  ```
- [ ] URL ハッシュベースルーティング（`#main`, `#create`, etc.）
- [ ] ブラウザ履歴対応（戻る・進むボタン）
- [ ] 画面ごとのコンポーネント分離

#### 3.2 ナビゲーション強化
- [ ] サイドバーナビゲーションボタン
  - 今日（メイン画面）
  - タスク作成
  - ダイアリー
  - レポート（将来実装）
- [ ] パンくずナビゲーション
- [ ] 戻るボタンの実装（ダイアリー作成→一覧など）

---

### **フェーズ4: UX改善・最終調整** ✨
**期間**: 1週間  
**目標**: 使いやすさの向上

#### 4.1 インタラクション改善
- [ ] サイドバー開閉アニメーション（300ms transition）
- [ ] タッチターゲット44px以上（モバイル対応）
- [ ] ローディング状態の表示
- [ ] エラーハンドリング強化
- [ ] 空状態のデザイン（タスクなし、日記なし）

#### 4.2 データ統合・進捗表示
- [ ] メイン画面での完了率表示（例: 1/2 完了）
- [ ] カレンダーでの完了状況可視化（色分け）
- [ ] ダイアリーエントリー数の表示
- [ ] 月間統計サマリー

---

### **フェーズ5: 高度な機能** 🚀
**期間**: 2-3週間（将来実装）  
**目標**: 拡張機能とユーザビリティ向上

#### 5.1 統計・分析機能
- [ ] 週単位・月単位での達成回数表示
- [ ] 連続達成日数（streak）の計算・表示
- [ ] 習慣ごとの統計サマリー
- [ ] ダイアリー投稿頻度の分析

#### 5.2 レポート機能
- [ ] 習慣達成グラフ（線グラフ、棒グラフ）
- [ ] 期間指定でのレポート生成
- [ ] 月間・年間サマリーレポート
- [ ] ダイアリーのカテゴリー別分析

---

### **フェーズ6: モバイル最適化** 📱
**期間**: 2週間（将来実装）  
**目標**: PWA化とモバイル体験の向上

#### 6.1 PWA対応
- [ ] Service Worker実装
- [ ] オフライン対応
- [ ] ホーム画面追加機能
- [ ] アプリアイコン・スプラッシュ画面

#### 6.2 リマインド機能
- [ ] 通知API実装
- [ ] 未完了タスクの通知
- [ ] 時間指定リマインダー
- [ ] 通知設定管理

---

## 🔍 技術的考慮事項

### 現在の技術スタック
- **Frontend**: TypeScript + Vanilla JS
- **Styling**: CSS + CSS Variables
- **Storage**: LocalStorage
- **Build**: Vite

### 保持する方針
- ✅ 既存のタスク管理機能（堅実に実装済み）
- ✅ 型安全性（TypeScript の厳密な型定義）
- ✅ 軽量性（Virtual DOM なし、効率的な DOM 操作）
- ✅ 拡張性（将来的なPWA化を見据えた設計）

### 実装見積もり
- **フェーズ1-4**: 4-6週間で基本機能完成
- **フェーズ5-6**: 追加 4-5週間で高度な機能完成
- **総期間**: 約8-11週間で完全版リリース

---

## 📅 マイルストーン

| フェーズ | 完了予定 | 主要成果物 |
|---------|---------|------------|
| フェーズ1 | 2週間後 | 新デザインシステム適用 |
| フェーズ2 | 5週間後 | ダイアリー機能完全実装 |
| フェーズ3 | 6週間後 | 4画面遷移システム完成 |
| フェーズ4 | 7週間後 | MVP版リリース準備完了 |
| フェーズ5 | 10週間後 | 統計・レポート機能追加 |
| フェーズ6 | 12週間後 | PWA対応・完全版リリース |

---
